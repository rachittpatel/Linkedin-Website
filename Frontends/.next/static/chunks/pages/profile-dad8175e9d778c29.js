(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{1071:(e,s,r)=>{"use strict";r.d(s,{A:()=>p});var o=r(7876),n=r(4232);r(7629);var a=r(6520),t=r.n(a),i=r(9099),l=r(1777),d=r(2431),c=r(8977);function p(e){let{children:s}=e,r=(0,i.useRouter)(),a=(0,l.d4)(e=>e.auth),p=(0,l.wA)(),u=a.all_users,h=a.all_profiles_fetched,m=a.isLoading;return(0,n.useEffect)(()=>{h||m||p((0,d.CF)())},[p,h,m]),console.log("TopProfilesComponent allUsers:",u),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:t().homeContainer,children:[(0,o.jsxs)("div",{className:t().homeContainer_leftBar,children:[(0,o.jsxs)("div",{onClick:()=>{r.push("/dashboard")},className:t().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,o.jsx)("p",{children:"Scroll"})]}),(0,o.jsxs)("div",{onClick:()=>{r.push("/discover")},className:t().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,o.jsx)("p",{children:"Discover"})]}),(0,o.jsxs)("div",{onClick:()=>{r.push("/my_connections")},className:t().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,o.jsx)("p",{children:"My Connections"})]})]}),(0,o.jsx)("div",{className:t().homeContainer_feedContainer,children:s}),(0,o.jsx)("div",{className:t().homeContainer_extraContainer,children:(0,o.jsxs)("div",{className:t().topProfilesContainer,children:[(0,o.jsx)("h3",{children:"Top Profiles"}),a.all_profiles_fetched&&a.all_users.filter(e=>e.userId.token!==localStorage.getItem("token")).map((e,s)=>{var n,a;return(0,o.jsxs)("div",{onClick:()=>{var s;r.push("/view_profile/".concat(null==e||null==(s=e.userId)?void 0:s.username))},style:{margin:"1rem",cursor:"pointer"},className:t().userCard,children:[(0,o.jsx)("img",{className:t().userImage,src:"".concat(c.C,"/").concat(e.userId.profilePicture)}),(0,o.jsxs)("div",{className:t().userDetails,children:[(0,o.jsx)("h2",{className:t().userName,children:null==(n=e.userId)?void 0:n.name}),(0,o.jsxs)("p",{className:t().userHandle,children:["@",null==(a=e.userId)?void 0:a.username]}),(0,o.jsx)("p",{className:t().userBio,children:e.bio&&e.bio})]})]},s)})]})})]})}),(0,o.jsxs)("div",{className:t().mobileNavbar,children:[(0,o.jsx)("div",{onClick:()=>{r.push("/dashboard")},className:t().singleNavItemHolder_mobileView,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,o.jsx)("div",{onClick:()=>{r.push("/discover")},className:t().singleNavItemHolder_mobileView,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,o.jsx)("div",{onClick:()=>{r.push("/my_connections")},className:t().singleNavItemHolder_mobileView,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},4001:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var o=r(7876),n=r(4232),a=r(9712),t=r(1071),i=r(2431),l=r(9617),d=r.n(l),c=r(8977),p=r(1777),u=r(5459);function h(){let e=(0,p.d4)(e=>e.auth),s=(0,p.d4)(e=>e.post),[r,l]=(0,n.useState)({}),[h,m]=(0,n.useState)([]),_=(0,p.wA)(),[x,j]=(0,n.useState)(null),[v,f]=(0,n.useState)({company:"",position:"",years:""}),[C,k]=(0,n.useState)({school:"",degree:"",fieldOfStudy:""}),g=e=>{let{name:s,value:r}=e.target;k({...C,[s]:r})},y=e=>{let{name:s,value:r}=e.target;f({...v,[s]:r})};(0,n.useEffect)(()=>{_((0,i.Zt)({token:localStorage.getItem("token")})),_((0,u.zX)())},[]),(0,n.useEffect)(()=>{void 0!==e.user&&(l(e.user),m(s.posts.filter(s=>s.userId.username===e.user.userId.username)))},[e.user,s.posts]);let N=async e=>{let s=new FormData;s.append("profilePicture",e),s.append("token",localStorage.getItem("token")),c.$.post("/upload_profile_picture",s,{headers:{"Content-Type":"multipart/form-data"}}),_((0,i.Zt)({token:localStorage.getItem("token")}))},w=async()=>{await c.$.post("/user_update",{token:localStorage.getItem("token"),name:r.userId.name}),await c.$.post("/update_profile_data",{token:localStorage.getItem("token"),bio:r.bio,currentPost:r.currentPost,pastWork:r.pastWork,education:r.education}),_((0,i.Zt)({token:localStorage.getItem("token")}))};return(0,o.jsx)(a.A,{children:(0,o.jsxs)(t.A,{children:[e.user&&r.userId&&(0,o.jsxs)("div",{className:d().container,children:[(0,o.jsxs)("div",{className:d().backDropContainer,children:[(0,o.jsx)("label",{htmlFor:"profilePictureUpload",className:d().backdrop__overlay,children:(0,o.jsx)("p",{children:"Edit"})}),(0,o.jsx)("input",{onChange:e=>{N(e.target.files[0])},hidden:!0,type:"file",id:"profilePictureUpload"}),(0,o.jsx)("img",{src:"".concat(c.C,"/").concat(r.userId.profilePicture),alt:"backdrop"})]}),(0,o.jsx)("div",{className:d().profileContainer_details,children:(0,o.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,o.jsxs)("div",{style:{flex:"0.8"},children:[(0,o.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,o.jsx)("input",{className:d().nameEdit,type:"text",value:r.userId.name,onChange:e=>{l({...r,userId:{...r.userId,name:e.target.value}})}}),(0,o.jsxs)("p",{style:{color:"gray"},children:["@",r.userId.username]})]}),(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{value:r.bio,onChange:e=>{l({...r,bio:e.target.value})},rows:Math.max(3,Math.ceil(r.bio.length/80)),style:{width:"100%"}})})]}),(0,o.jsxs)("div",{style:{flex:"0.2"},children:[(0,o.jsx)("h1",{children:"Recent Activity"}),h.map(e=>(0,o.jsx)("div",{className:d().postCard,children:(0,o.jsxs)("div",{className:d().card,children:[(0,o.jsx)("div",{className:d().card_profileContainer,children:""!==e.media?(0,o.jsx)("img",{src:"".concat(c.C,"/").concat(e.media),alt:""}):(0,o.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"},children:" "})}),(0,o.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,o.jsxs)("div",{className:"workHistory",children:[(0,o.jsx)("h4",{children:"Education History"}),(0,o.jsxs)("div",{className:d().workHistoryContainer,children:[(r.education||[]).map((e,s)=>(0,o.jsxs)("div",{className:d().workHistoryCard,children:[(0,o.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.school," - ",e.degree]}),(0,o.jsx)("p",{children:e.fieldOfStudy})]},s)),(0,o.jsx)("button",{className:d().addWorkButton,onClick:()=>j("education"),children:"Add Education"})]})]}),(0,o.jsxs)("div",{className:"workHistory",children:[(0,o.jsx)("h4",{children:"Work History"}),(0,o.jsxs)("div",{className:d().workHistoryContainer,children:[r.pastWork.map((e,s)=>(0,o.jsxs)("div",{className:d().workHistoryCard,children:[(0,o.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),(0,o.jsxs)("p",{children:[e.years,"+"]})]},s)),(0,o.jsx)("button",{className:d().addWorkButton,onClick:()=>j("work"),children:"Add Work"})]})]}),r!=e.user&&(0,o.jsx)("div",{onClick:()=>{w()},className:d().updateProfileBtn,children:"Update Profile"})]}),"education"===x&&(0,o.jsx)("div",{onClick:()=>j(null),className:d().commentsContainer,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:d().allCommentsContainer,children:[(0,o.jsx)("input",{onChange:g,name:"school",type:"text",placeholder:"Enter School",className:d().inputField}),(0,o.jsx)("input",{onChange:g,name:"degree",type:"text",placeholder:"Enter Degree",className:d().inputField}),(0,o.jsx)("input",{onChange:g,name:"fieldOfStudy",type:"text",placeholder:"Enter Field of Study",className:d().inputField}),(0,o.jsx)("div",{onClick:()=>{l({...r,education:[...r.education||[],C]}),j(null)},className:d().updateProfileBtn,children:"Add Education"})]})}),"work"===x&&(0,o.jsx)("div",{onClick:()=>j(null),className:d().commentsContainer,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:d().allCommentsContainer,children:[(0,o.jsx)("input",{onChange:y,name:"company",type:"text",placeholder:"Enter Company",className:d().inputField}),(0,o.jsx)("input",{onChange:y,name:"position",type:"text",placeholder:"Enter Position",className:d().inputField}),(0,o.jsx)("input",{onChange:y,name:"years",type:"number",placeholder:"Years",className:d().inputField}),(0,o.jsx)("div",{onClick:()=>{l({...r,pastWork:[...r.pastWork,v]}),j(null)},className:d().updateProfileBtn,children:"Add Work"})]})})]})})}},6520:e=>{e.exports={homeContainer:"DashboardLayout_homeContainer__pIsyd",homeContainer_leftBar:"DashboardLayout_homeContainer_leftBar__mMq8v",sideBarOption:"DashboardLayout_sideBarOption__MHfOg",homeContainer_extraContainer:"DashboardLayout_homeContainer_extraContainer__bxfU5",homeContainer_feedContainer:"DashboardLayout_homeContainer_feedContainer__j8cqQ",mobileNavbar:"DashboardLayout_mobileNavbar__dTaU4",topProfilesContainer:"DashboardLayout_topProfilesContainer__jCRXk",userCard:"DashboardLayout_userCard__RqH5n",userImage:"DashboardLayout_userImage__OeosV",userDetails:"DashboardLayout_userDetails__slW7n",userName:"DashboardLayout_userName__OV31P",userHandle:"DashboardLayout_userHandle__TPrWM",userBio:"DashboardLayout_userBio__pAE5K"}},6610:e=>{e.exports={container:"styles_container__WCP1D",navBar:"styles_navBar__nMGt3",navBarOptionContainer:"styles_navBarOptionContainer__6SJrf",buttonJoin:"styles_buttonJoin__hW__U"}},9099:(e,s,r)=>{e.exports=r(8253)},9275:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(4001)}])},9617:e=>{e.exports={container:"profile_container__oOWE6",backDropContainer:"profile_backDropContainer__yjSzu",profileContainer_details:"profile_profileContainer_details__VrJ1Y",card:"profile_card__cvuSz",card_profileContainer:"profile_card_profileContainer__KI0ty",backdrop__overlay:"profile_backdrop__overlay__6mOtr",connectBtn:"profile_connectBtn__LkEe3",connectButton:"profile_connectButton__WK0Lm",workHistoryContainer:"profile_workHistoryContainer__KZucT",workHistoryCard:"profile_workHistoryCard__VOhd6",nameEdit:"profile_nameEdit__JI1j_",updateProfileBtn:"profile_updateProfileBtn__juKZ3",addWorkButton:"profile_addWorkButton__HeXb9",commentsContainer:"profile_commentsContainer__yjsIq",allCommentsContainer:"profile_allCommentsContainer__IVHMT",inputField:"profile_inputField__MuZ1h"}},9712:(e,s,r)=>{"use strict";r.d(s,{A:()=>c});var o=r(7876);r(4232);var n=r(6610),a=r.n(n),t=r(9099),i=r(1777),l=r(7629);function d(){var e,s;let r=(0,t.useRouter)(),n=(0,i.d4)(e=>e.auth),d=(0,i.wA)();return n.all_users,n.all_profiles_fetched,n.isLoading,(0,o.jsx)("div",{className:a().container,children:(0,o.jsxs)("nav",{className:a().navBar,children:[(0,o.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>r.push("/"),children:(0,o.jsx)("img",{style:{height:"70px",width:"130px",display:"flex"},src:" https://tse2.mm.bing.net/th/id/OIP.umYnpmYCA0mfrgoetiaoqwHaEK?pid=Api&P=0&h=220",alt:""})}),(0,o.jsx)("div",{className:a().navBarOptionContainer,children:n.profileFetched&&(null==(s=n.user)||null==(e=s.userId)?void 0:e.name)?(0,o.jsxs)("div",{style:{display:"flex",gap:"2.2rem",alignItems:"center"},children:[(0,o.jsx)("p",{onClick:()=>{r.push("/profile")},style:{fontWeight:"bold",fontSize:"20px",cursor:"pointer"},children:"Profile"}),(0,o.jsx)("p",{style:{fontWeight:"bold",fontSize:"20px",cursor:"pointer"},onClick:()=>{localStorage.removeItem("token"),d((0,l.cL)()),d((0,l.hI)()),r.push("/login")},children:"Logout"})]}):!n.isTokenThere&&(0,o.jsx)("div",{onClick:()=>r.push("/login"),className:a().buttonJoin,children:(0,o.jsx)("p",{children:"Be a part"})})})]})})}function c(e){let{children:s}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)(d,{}),s]})}r(2431)}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(9275)),_N_E=e.O()}]);